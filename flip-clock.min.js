var FlipClock=function(n){var t="animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",o=this;return o.mainEl=$(n),o.frontTopEl=o.mainEl.find("div.flip-top.flip-front"),o.frontBottomEl=o.mainEl.find("div.flip-bottom.flip-front"),o.backTopEl=o.mainEl.find("div.flip-top.flip-back"),o.backBottomEl=o.mainEl.find("div.flip-bottom.flip-back"),o.frontTopEl.on(t,function(n){o.frontTopEl.removeClass("flip-top-animate"),o.frontTopEl.find("span").html(o.nextNumber),o.frontBottomEl.find("span").html(o.nextNumber),o.frontBottomEl.addClass("flip-bottom-animate")}),o.frontBottomEl.on(t,function(n){o.frontBottomEl.removeClass("flip-bottom-animate"),o.backTopEl.find("span").html(o.nextNumber),o.backBottomEl.find("span").html(o.nextNumber)}),{update:function(n){n!=o.nextNumber&&(o.nextNumber=n,o.frontTopEl.addClass("flip-top-animate"),o.backTopEl.find("span").html(o.nextNumber))}}},FlipClockManager=function(n,t){var o=this;o.mainEl=$(n),FlipClockManager.idx=(FlipClockManager.idx||0)+1;var i=function(n,t){return['<div id="'+n+'" class="flip-clock '+t+'">','<div class="flip-top flip-front"><span>0</span></div>','<div class="flip-top flip-back"><span>0</span></div>','<div class="flip-bottom flip-front"><span>0</span></div>','<div class="flip-bottom flip-back"><span>0</span></div>',"</div>"].join("")},a=function(n){var a="";a+=i("fc-hours"+FlipClockManager.idx,t),a+=i("fc-minutes"+FlipClockManager.idx,t),a+=i("fc-seconds"+FlipClockManager.idx,t),o.mainEl.html(a),o.hours=new FlipClock("#fc-hours"+FlipClockManager.idx),o.minutes=new FlipClock("#fc-minutes"+FlipClockManager.idx),o.seconds=new FlipClock("#fc-seconds"+FlipClockManager.idx),o.currentInterval&&clearInterval(o.currentInterval),o.currentInterval=setInterval(n,1e3)};return{currentTime:function(){a(function(){var n=new Date;o.hours.update(n.getHours()),o.minutes.update(n.getMinutes()),o.seconds.update(n.getSeconds())})},countdownToDate:function(n){a(function(){var t=Math.round((n.getTime()-(new Date).getTime())/1e3);o.hours.update(Math.round(t/3600)),o.minutes.update(Math.round(t/60)%60),o.seconds.update(t%60)})},countFromDate:function(n){a(function(){var t=Math.round(((new Date).getTime()-n.getTime())/1e3);o.hours.update(Math.round(t/3600)),o.minutes.update(Math.round(t/60)%60),o.seconds.update(t%60)})}}};
